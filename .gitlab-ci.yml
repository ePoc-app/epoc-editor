stages:
- build

before_script:
- dpkg --add-architecture i386
- apt-get update -qy
- apt-get -y install curl wine32

build:
  image: node:16
  stage: build
  script:
  - npm i
  - npm run electron:build
  artifacts:
    expire_in: 1 yr
    paths:
    - dist_electron/*.zip
    - dist_electron/*.deb
    - dist_electron/*.exe
  only:
  - master
  - web
